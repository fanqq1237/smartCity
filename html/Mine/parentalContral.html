<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="../../layui/css/layui.css" />
		<link rel="stylesheet" href="../../css/base.css" />
		<link rel="stylesheet" href="../../css/login.css" />
		<link rel="stylesheet" href="../../css/parentControl.css" />
		<title>家长管控</title>
	</head>

	<body>
		<div class="layui-fluid">
			<div class=" layui-row top">
				<h2 class="manageTitle">
                    <a href="javascript:history.back(-1);" class="goBack">
                        <i class="layui-icon layui-icon-left"></i> 返回
                    </a>
                 家长管控
                  <a href="###" class="range" id="userRange">适用范围</a>
                </h2>
			</div>
			<h3 class="msg">开通后，接收孩子校园、公交等信息</h3>
			<form class="layui-form control-form" action="" id="content">
			</form>
			<h3 class="msg">温馨提示：由于网络延迟，有可能出现信息更新信息延迟情况，请耐心等待。</h3>
		</div>
		<script type="text/javascript" src="../../js/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="../../layui/layui.js"></script>
		<script type="text/javascript">
			layui.use('form', function() {
						var form = layui.form;
				})
		</script>
		<script id="appContent" type="text/html">
			{{# layui.each(d.appList, function(index, item){ }}
			<div class="layui-form-item">
					<label class="layui-form-label">孩子姓名</label>
					<div class="layui-input-block">
						<input type="text" name="identity" id="namea" autocomplete="off" class="layui-input" disabled="" value="{{ item.childName }}">
					</div><hr />
					<label class="layui-form-label">开通</label>
					<input type="checkbox" name="xxx" lay-skin="switch">
				</div>
			<!--无数据时-->
			{{# }); }} {{# if(d.appList.length === 0){ }}
			<div class="layui-form-item">
					<label class="layui-form-label">孩子姓名</label>
					<div class="layui-input-block">
						<input type="text" name="identity" id="namea" autocomplete="off" class="layui-input" disabled="" value="付苏苏">
					</div><hr />
					<label class="layui-form-label">开通</label>
					<input type="checkbox" name="xxx" lay-skin="switch">
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">孩子姓名</label>
					<div class="layui-input-block">
						<input type="text" name="identity" id="namea" autocomplete="off" class="layui-input" disabled="" value="付醒醒">
					</div><hr />
					<label class="layui-form-label">开通</label>
					<input type="checkbox" name="xxx" lay-skin="switch">
				</div>
			{{# } }}
		</script>
		<script>
			layui.use('laytpl', function() {
				var laytpl = layui.laytpl;
				var appData = { //数据
					"title": "应用模板引擎",
					"appList": [{
							"childName": "付星星"
						},
						{
							"childName": "付醒醒"
						},
						{
							"childName": "付妮妮"
						}
					]
				}
				// $.ajax({
				// 	url: '',
				// 	type: 'post',
				// 	data: {
				// 	},
				// 	dataType: 'json',
				// 	success: function (data) {
				// 		console.log(data);3
				// 	}
				var getAppTpl = appContent.innerHTML,
					appView = document.getElementById('content');
				laytpl(getAppTpl).render(appData, function(html) {
					appView.innerHTML = html;
				});
			});
			
			//使用范围
			$("#userRange").on("click",function(){
	            layer.open({
	                type: 2,
	                closeBtn: 0,
	                title: false,
	                content: "userRange.html",
	                area: ['100%', '100%'],
	                yes: function(index) {
	                    layer.close(index);
	                },
	                end: function() {
	                    form.render();
	                }
	            });
        	});
		</script>
	</body>

</html>